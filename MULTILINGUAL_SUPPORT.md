# ๐ ะะพะดะดะตัะถะบะฐ ะผัะปััะธัะทััะฝะพััะธ (i18n)

## ะะฑะทะพั

ะกะธััะตะผะฐ SKAI ะฟะพะดะดะตัะถะธะฒะฐะตั ััะธ ัะทัะบะฐ ะธะฝัะตััะตะนัะฐ ะธ ะฐะฝะฐะปะธะทะฐ:
- ๐ท๐บ **ะัััะบะธะน (ru)** - ัะทัะบ ะฟะพ ัะผะพะปัะฐะฝะธั
- ๐ฐ๐ฟ **ะะฐะทะฐััะบะธะน (kk)** - ะฟะพะปะฝะฐั ะฟะพะดะดะตัะถะบะฐ
- ๐ฌ๐ง **ะะฝะณะปะธะนัะบะธะน (en)** - ะฟะพะปะฝะฐั ะฟะพะดะดะตัะถะบะฐ

## ๐ฏ ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั

### 1. ะฏะทัะบ ะธะฝัะตััะตะนัะฐ

ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ัะทัะบ ะฒ ะธะฝัะตััะตะนัะต, ะบะพัะพััะน ัะพััะฐะฝัะตััั ะฒ:
- **localStorage**: `skai-language`
- **React Context**: `LanguageContext`

```typescript
// src/contexts/language-context.tsx
export type Language = 'ru' | 'kk' | 'en'

const { language, setLanguage } = useLanguage()
// language: 'ru' | 'kk' | 'en'
```

### 2. ะฏะทัะบ ะฐะฝะฐะปะธะทะฐ

ะะพะณะดะฐ ะฟะพะปัะทะพะฒะฐัะตะปั ะฝะฐะถะธะผะฐะตั "ะะฐัะฐัั ะฐะฝะฐะปะธะท", ัะธััะตะผะฐ:

1. **ะะฐะฟะพะผะธะฝะฐะตั ัะทัะบ ะธะฝัะตััะตะนัะฐ**
2. **ะะตัะตะดะฐัั ะตะณะพ ะฒะพ ะฒัะต API endpoints**:
   ```typescript
   // Frontend: src/app/virtual-director/page.tsx
   await fetch('/api/analyze/vnd', {
     body: JSON.stringify({
       documentContent: text,
       language: language // 'ru' | 'kk' | 'en'
     })
   })
   ```

3. **Backend ะณะตะฝะตัะธััะตั ะพัะฒะตั ะฝะฐ ััะพะผ ัะทัะบะต**:
   ```typescript
   // Backend: src/app/api/analyze/vnd/route.ts
   const { documentContent, language = 'ru' } = await request.json()
   
   // ะัะฑะธัะฐะตั ะฟัะพะผะฟั ะฝะฐ ะฝัะถะฝะพะผ ัะทัะบะต
   const prompts = languageInstructions[language]
   const result = await alemllm.complete(prompts.user, prompts.system)
   ```

### 3. ะฏะทัะบ ะพะทะฒััะบะธ (TTS)

TTS ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั ัะพั ะถะต ัะทัะบ, ััะพ ะธ ะธะฝัะตััะตะนั:

```typescript
// src/app/virtual-director/page.tsx
const tts = useTTS({
  language: language // ะะตัะตะดะฐัะผ ัะทัะบ ะธะฝัะตััะตะนัะฐ
})
```

**โ๏ธ ะะฐะถะฝะพ**: TTS API ะฟะพะดะดะตัะถะธะฒะฐะตั ัะพะปัะบะพ `kk` ะธ `ru`. ะัะปะธ ัะทัะบ ะธะฝัะตััะตะนัะฐ `en`, ัะธััะตะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั ััััะบะธะน ะดะปั ะพะทะฒััะบะธ.

## ๐ ะคะฐะนะปั ัะธััะตะผั

### 1. ะะพะฝัะตะบัั ัะทัะบะฐ

**`src/contexts/language-context.tsx`**
```typescript
export type Language = 'ru' | 'kk' | 'en'

export function LanguageProvider({ children }: { children: ReactNode }) {
  const [language, setLanguage] = useState<Language>('ru')
  
  // ะะฐะณััะถะฐะตั ะธะท localStorage ะฟัะธ ะธะฝะธัะธะฐะปะธะทะฐัะธะธ
  useEffect(() => {
    const saved = localStorage.getItem('skai-language') as Language
    if (saved) setLanguage(saved)
  }, [])
  
  // ะกะพััะฐะฝัะตั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ
  const handleSetLanguage = (lang: Language) => {
    setLanguage(lang)
    localStorage.setItem('skai-language', lang)
  }
  
  return <LanguageContext.Provider value={{ language, setLanguage: handleSetLanguage }}>
}
```

### 2. ะะตัะตะฒะพะดั ะธะฝัะตััะตะนัะฐ

**`src/locales/index.ts`**
```typescript
export const translations = {
  ru: {
    home: homeTranslations.ru,
    navigation: navigationTranslations.ru,
    virtualDirector: virtualDirectorTranslations.ru,
    chat: chatTranslations.ru,
    auth: authTranslations.ru
  },
  kk: { /* ะบะฐะทะฐััะบะธะต ะฟะตัะตะฒะพะดั */ },
  en: { /* ะฐะฝะณะปะธะนัะบะธะต ะฟะตัะตะฒะพะดั */ }
}
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**
```typescript
const { language } = useLanguage()
const t = translations[language].virtualDirector

return <h1>{t.title}</h1>
```

### 3. API Endpoints ั ะฟะพะดะดะตัะถะบะพะน ัะทัะบะฐ

#### **VND ะะฝะฐะปะธะท** (`src/app/api/analyze/vnd/route.ts`)

```typescript
export async function POST(request: NextRequest) {
  const { documentContent, language = 'ru' } = await request.json()
  
  const languageInstructions = {
    ru: {
      system: `ะขั ัะบัะฟะตัั-ะฐะฝะฐะปะธัะธะบ ะฟะพ ะบะพัะฟะพัะฐัะธะฒะฝัะผ ะดะพะบัะผะตะฝัะฐะผ...`,
      user: `ะะพะฝัะตะบัั ะะะ:\n${context}\n\nะะพะบัะผะตะฝั:\n${doc}\n\nะะฝะฐะปะธะท:`
    },
    kk: {
      system: `ะกัะท ะบะพัะฟะพัะฐัะธะฒััะบ าาฑะถะฐััะฐั ะฑะพะนัะฝัะฐ ัะฐัะฐะฟัั...`,
      user: `ะะา ะบะพะฝัะตะบััั:\n${context}\n\nาาฑะถะฐั:\n${doc}\n\nะขะฐะปะดะฐั:`
    },
    en: {
      system: `You are an expert analyst on corporate documents...`,
      user: `ICD context:\n${context}\n\nDocument:\n${doc}\n\nAnalysis:`
    }
  }
  
  const prompts = languageInstructions[language]
  const result = await alemllm.complete(prompts.user, prompts.system)
  
  return NextResponse.json({ success: true, result })
}
```

#### **NPA ะะฝะฐะปะธะท** (`src/app/api/analyze/np/route.ts`)

ะะฝะฐะปะพะณะธัะฝะพ VND, ะฝะพ ั ะฟัะพะผะฟัะฐะผะธ ะดะปั ะฟัะฐะฒะพะฒะพะณะพ ะฐะฝะฐะปะธะทะฐ:
- **ru**: `ะขั ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน ััะธัั-ะฐะฝะฐะปะธัะธะบ ะฟะพ ะทะฐะบะพะฝะพะดะฐัะตะปัััะฒั ะะ...`
- **kk**: `ะกัะท าะ ะทะฐาฃะฝะฐะผะฐัั ะฑะพะนัะฝัะฐ ะบำััะฑะธ ะทะฐาฃะณะตั...`
- **en**: `You are a professional legal analyst on the legislation of RK...`

#### **Summary** (`src/app/api/analyze/summary/route.ts`)

ะะฑัะตะดะธะฝัะตั ัะตะทัะปััะฐัั VND ะธ NPA ะธ ะณะตะฝะตัะธััะตั ะธัะพะณะพะฒะพะต ะทะฐะบะปััะตะฝะธะต ะฝะฐ ะฒัะฑัะฐะฝะฝะพะผ ัะทัะบะต:
- **ru**: `**ะะฃะะะข ะะะะะกะขะะ ะะะฏ:** ... **ะะะจะะะะ:** ะะ | ะะะะขะะ | ะะะะะะะะะะกะฏ`
- **kk**: `**ะาฎะ ะขำะะขะะะะะาข ะขะะะะาะซ:** ... **ะจะะจะะ:** ะะา | าะะะกะซ | ะะะะขะะะะ`
- **en**: `**AGENDA ITEM:** ... **DECISION:** FOR | AGAINST | ABSTAINED`

### 4. TTS Hook ั ะฟะพะดะดะตัะถะบะพะน ัะทัะบะฐ

**`src/hooks/useTTS.ts`**

```typescript
export type TTSLanguage = 'kk' | 'ru' | 'en'

interface UseTTSOptions {
  language?: TTSLanguage // ะฏะทัะบ ะธะท ะธะฝัะตััะตะนัะฐ
  autoDetectLanguage?: boolean // ะะพ ัะผะพะปัะฐะฝะธั false
  onPlay?: () => void
  onPause?: () => void
  onEnd?: () => void
  onError?: (error: Error) => void
}

export function useTTS(options: UseTTSOptions = {}) {
  const { language, autoDetectLanguage = false } = options
  
  // ะัะธะพัะธัะตั ัะทัะบะพะฒ:
  // 1. ะฏะฒะฝะพ ะฟะตัะตะดะฐะฝะฝัะน ัะทัะบ ะฒ play(text, lang)
  // 2. ะฏะทัะบ ะธะท options (ัะทัะบ ะธะฝัะตััะตะนัะฐ)
  // 3. ะะฒัะพะพะฟัะตะดะตะปะตะฝะธะต (ะตัะปะธ ะฒะบะปััะตะฝะพ)
  // 4. ะะพ ัะผะพะปัะฐะฝะธั 'ru'
  
  const getEffectiveLanguage = (text: string, explicitLang?: TTSLanguage) => {
    if (explicitLang === 'kk' || explicitLang === 'ru') return explicitLang
    if (explicitLang === 'en') return 'ru' // Fallback ะดะปั ะฐะฝะณะปะธะนัะบะพะณะพ
    
    if (language === 'kk' || language === 'ru') return language
    if (language === 'en') return 'ru' // Fallback ะดะปั ะฐะฝะณะปะธะนัะบะพะณะพ
    
    if (autoDetectLanguage) return detectLanguage(text)
    
    return 'ru'
  }
  
  // ...
}
```

**ะัะฟะพะปัะทะพะฒะฐะฝะธะต:**
```typescript
// ะ ะบะพะผะฟะพะฝะตะฝัะต
const { language } = useLanguage()
const tts = useTTS({
  language: language // ะะตัะตะดะฐัะผ ัะทัะบ ะธะฝัะตััะตะนัะฐ
})

// TTS ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทัะตั ะฟัะฐะฒะธะปัะฝัะน ัะทัะบ
await tts.play(analysisResult.summary)
```

## ๐ ะะพัะพะบ ะดะฐะฝะฝัั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  1. ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ัะทัะบ ะฒ UI                         โ
โ     setLanguage('en')                                       โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  2. ะฏะทัะบ ัะพััะฐะฝัะตััั                                        โ
โ     localStorage.setItem('skai-language', 'en')             โ
โ     LanguageContext.language = 'en'                         โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  3. ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ะดะพะบัะผะตะฝั (ะฝะฐ ะปัะฑะพะผ ัะทัะบะต!)       โ
โ     uploadDocument('ะัะพัะพะบะพะป ะฝะฐ ััััะบะพะผ.pdf')               โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  4. ะะฐะถะธะผะฐะตั "Start Analysis" (ะธะฝัะตััะตะนั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ)     โ
โ     handleStartAnalysis()                                   โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  5. Frontend ะฟะตัะตะดะฐัั ัะทัะบ ะธะฝัะตััะตะนัะฐ ะฒ API                 โ
โ     POST /api/analyze/vnd                                   โ
โ     { documentContent: "...", language: "en" }              โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  6. Backend ะณะตะฝะตัะธััะตั ะพัะฒะตั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ                  โ
โ     prompts = languageInstructions['en']                    โ
โ     result = "**ICD: KEY FINDINGS:** ..."                   โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  7. Frontend ะฟะพะบะฐะทัะฒะฐะตั ัะตะทัะปััะฐั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ             โ
โ     analysisResult.vnd = "**ICD: KEY FINDINGS:** ..."       โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  8. ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะถะธะผะฐะตั "๐ Voice Over"                   โ
โ     tts.play(analysisResult.vnd)                            โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
                     โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  9. TTS ะธัะฟะพะปัะทัะตั ัะทัะบ ะธะฝัะตััะตะนัะฐ                          โ
โ     language = 'en' โ fallback to 'ru' (TTS ะฝะต ะทะฝะฐะตั 'en')  โ
โ     POST /api/tts { text: "...", lang: "ru" }               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐งช ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: ะัััะบะธะน ะธะฝัะตััะตะนั โ ะัััะบะธะน ะฐะฝะฐะปะธะท

```typescript
// 1. ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ััััะบะธะน
setLanguage('ru')

// 2. ะะฐะณััะถะฐะตั ะดะพะบัะผะตะฝั ะฝะฐ ะปัะฑะพะผ ัะทัะบะต
uploadDocument('ะัะพัะพะบะพะป.pdf')

// 3. ะะฐะถะธะผะฐะตั "ะะฐัะฐัั ะฐะฝะฐะปะธะท"
// โ API ะฟะพะปััะฐะตั language: 'ru'
// โ ะะตะฝะตัะธััะตั ะพัะฒะตั: "**ะะะ: ะะะฎะงะะะซะ ะะซะะะะซ:** ..."
// โ TTS ะพะทะฒััะธะฒะฐะตั ะฝะฐ ััััะบะพะผ (lang: 'ru')
```

### ะัะธะผะตั 2: ะะฐะทะฐััะบะธะน ะธะฝัะตััะตะนั โ ะะฐะทะฐััะบะธะน ะฐะฝะฐะปะธะท

```typescript
// 1. ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ะบะฐะทะฐััะบะธะน
setLanguage('kk')

// 2. ะะฐะณััะถะฐะตั ะดะพะบัะผะตะฝั ะฝะฐ ะปัะฑะพะผ ัะทัะบะต
uploadDocument('Protocol.docx')

// 3. ะะฐะถะธะผะฐะตั "ะขะฐะปะดะฐัะดั ะฑะฐััะฐั"
// โ API ะฟะพะปััะฐะตั language: 'kk'
// โ ะะตะฝะตัะธััะตั ะพัะฒะตั: "**ะะา: ะะะะะะะ าะะะซะขะซะะะซะะะ:** ..."
// โ TTS ะพะทะฒััะธะฒะฐะตั ะฝะฐ ะบะฐะทะฐััะบะพะผ (lang: 'kk')
```

### ะัะธะผะตั 3: ะะฝะณะปะธะนัะบะธะน ะธะฝัะตััะตะนั โ ะะฝะณะปะธะนัะบะธะน ะฐะฝะฐะปะธะท + ะัััะบะฐั ะพะทะฒััะบะฐ

```typescript
// 1. ะะพะปัะทะพะฒะฐัะตะปั ะฒัะฑะธัะฐะตั ะฐะฝะณะปะธะนัะบะธะน
setLanguage('en')

// 2. ะะฐะณััะถะฐะตั ะดะพะบัะผะตะฝั ะฝะฐ ะปัะฑะพะผ ัะทัะบะต
uploadDocument('Minutes.pdf')

// 3. ะะฐะถะธะผะฐะตั "Start Analysis"
// โ API ะฟะพะปััะฐะตั language: 'en'
// โ ะะตะฝะตัะธััะตั ะพัะฒะตั: "**ICD: KEY FINDINGS:** ..."
// โ TTS ะพะทะฒััะธะฒะฐะตั ะฝะฐ ััััะบะพะผ (lang: 'ru', ั.ะบ. 'en' ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั)
//   Console: "[useTTS] โ๏ธ English TTS not supported, falling back to Russian"
```

## โ๏ธ ะะฐัััะพะนะบะฐ ะฟะตัะตะฒะพะดะพะฒ

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ะฟะตัะตะฒะพะดะฐ ะฒ ะธะฝัะตััะตะนั

1. **ะะฑะฝะพะฒะธัะต ัะฐะนะป ะปะพะบะฐะปะธะทะฐัะธะธ**:

```typescript
// src/locales/virtual-director.ts
export const virtualDirectorTranslations = {
  ru: {
    title: "ะะธัััะฐะปัะฝัะน ะดะธัะตะบัะพั",
    startAnalysis: "ะะฐัะฐัั ะฐะฝะฐะปะธะท",
    // ...
  },
  kk: {
    title: "ะะธัััะฐะปะดั ะดะธัะตะบัะพั",
    startAnalysis: "ะขะฐะปะดะฐัะดั ะฑะฐััะฐั",
    // ...
  },
  en: {
    title: "Virtual Director",
    startAnalysis: "Start Analysis",
    // ...
  }
}
```

2. **ะัะฟะพะปัะทัะนัะต ะฒ ะบะพะผะฟะพะฝะตะฝัะต**:

```typescript
const { language } = useLanguage()
const t = translations[language].virtualDirector

return (
  <button onClick={handleStartAnalysis}>
    {t.startAnalysis}
  </button>
)
```

### ะะพะฑะฐะฒะปะตะฝะธะต ะฝะพะฒะพะณะพ ัะทัะบะฐ ะฐะฝะฐะปะธะทะฐ

ะัะปะธ ะฝัะถะฝะพ ะดะพะฑะฐะฒะธัั ะฝะพะฒัะน ัะทัะบ (ะฝะฐะฟัะธะผะตั, ัะทะฑะตะบัะบะธะน `uz`):

1. **ะะฑะฝะพะฒะธัะต ัะธะฟ ัะทัะบะฐ**:
```typescript
// src/contexts/language-context.tsx
export type Language = 'ru' | 'kk' | 'en' | 'uz'
```

2. **ะะพะฑะฐะฒััะต ะฟะตัะตะฒะพะดั ะธะฝัะตััะตะนัะฐ**:
```typescript
// src/locales/index.ts
export const translations = {
  // ... ัััะตััะฒัััะธะต
  uz: {
    home: homeTranslations.uz,
    // ...
  }
}
```

3. **ะะพะฑะฐะฒััะต ะฟัะพะผะฟัั ะฒ API endpoints**:
```typescript
// src/app/api/analyze/vnd/route.ts
const languageInstructions = {
  // ... ัััะตััะฒัััะธะต
  uz: {
    system: `Siz korporativ hujjatlar bo'yicha mutaxassis...`,
    user: `IND konteksti:\n${context}\n\nHujjat:\n${doc}\n\nTahlil:`
  }
}
```

4. **ะัะปะธ TTS ะฟะพะดะดะตัะถะธะฒะฐะตั ะฝะพะฒัะน ัะทัะบ, ะพะฑะฝะพะฒะธัะต ัะธะฟั**:
```typescript
// src/hooks/useTTS.ts
export type TTSLanguage = 'kk' | 'ru' | 'en' | 'uz'

// ะ ะพะฑะฝะพะฒะธัะต getEffectiveLanguage ะดะปั ะฟะพะดะดะตัะถะบะธ ะฝะพะฒะพะณะพ ัะทัะบะฐ
```

## ๐ ะะตัะตะฝะธะต ะฟัะพะฑะปะตะผ

### ะัะพะฑะปะตะผะฐ: ะะฝะฐะปะธะท ะฝะฐ ััััะบะพะผ, ัะพัั ะฒัะฑัะฐะฝ ะฐะฝะณะปะธะนัะบะธะน

**ะัะธัะธะฝะฐ**: ะฏะทัะบ ะฝะต ะฟะตัะตะดะฐัััั ะฒ API ะทะฐะฟัะพั.

**ะะตัะตะฝะธะต**: ะัะพะฒะตัััะต, ััะพ ะฒ `handleStartAnalysis` ะฟะตัะตะดะฐัััั `language`:
```typescript
await fetch('/api/analyze/vnd', {
  body: JSON.stringify({
    documentContent: text,
    language: language // โ ะะพะปะถะตะฝ ะฑััั ะทะดะตัั!
  })
})
```

### ะัะพะฑะปะตะผะฐ: TTS ะพะทะฒััะธะฒะฐะตั ะฝะฐ ััััะบะพะผ, ัะพัั ะฒัะฑัะฐะฝ ะบะฐะทะฐััะบะธะน

**ะัะธัะธะฝะฐ**: ะฏะทัะบ ะฝะต ะฟะตัะตะดะฐัััั ะฒ TTS hook.

**ะะตัะตะฝะธะต**: ะัะพะฒะตัััะต ะธะฝะธัะธะฐะปะธะทะฐัะธั TTS:
```typescript
const tts = useTTS({
  language: language // โ ะะพะปะถะตะฝ ะฑััั ะทะดะตัั!
})
```

### ะัะพะฑะปะตะผะฐ: TTS ะพะทะฒััะธะฒะฐะตั ะฝะฐ ะฐะฝะณะปะธะนัะบะพะผ (ะพัะธะฑะบะฐ)

**ะัะธัะธะฝะฐ**: TTS API ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตั ะฐะฝะณะปะธะนัะบะธะน.

**ะะถะธะดะฐะตะผะพะต ะฟะพะฒะตะดะตะฝะธะต**: ะกะธััะตะผะฐ ะดะพะปะถะฝะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธัะฟะพะปัะทะพะฒะฐัั ััััะบะธะน. ะัะพะฒะตัััะต ะปะพะณะธ:
```
[useTTS] โ๏ธ English TTS not supported, falling back to Russian
[TTS Proxy] ๐ Language: ru
```

## ๐ ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะบะพะผะฑะธะฝะฐัะธะธ

| ะฏะทัะบ ะธะฝัะตััะตะนัะฐ | ะฏะทัะบ ะฐะฝะฐะปะธะทะฐ | ะฏะทัะบ TTS | ะกัะฐััั |
|-----------------|--------------|----------|--------|
| ๐ท๐บ ะัััะบะธะน     | โ ะัััะบะธะน    | โ ะัััะบะธะน | โ ะะพะปะฝะพัััั ัะฐะฑะพัะฐะตั |
| ๐ฐ๐ฟ ะะฐะทะฐััะบะธะน   | โ ะะฐะทะฐััะบะธะน  | โ ะะฐะทะฐััะบะธะน | โ ะะพะปะฝะพัััั ัะฐะฑะพัะฐะตั |
| ๐ฌ๐ง ะะฝะณะปะธะนัะบะธะน  | โ ะะฝะณะปะธะนัะบะธะน | โ๏ธ ะัััะบะธะน (fallback) | โ๏ธ ะะฐะฑะพัะฐะตั ั ะฟัะตะดัะฟัะตะถะดะตะฝะธะตะผ |

## ๐ ะัะดััะธะต ัะปัััะตะฝะธั

1. **ะะพะฑะฐะฒะธัั ะฐะฝะณะปะธะนัะบัั ะพะทะฒััะบั**:
   - ะะฝัะตะณัะธัะพะฒะฐัั TTS ัะตัะฒะธั ั ะฟะพะดะดะตัะถะบะพะน ะฐะฝะณะปะธะนัะบะพะณะพ
   - ะะปะธ ะธัะฟะพะปัะทะพะฒะฐัั ะฐะปััะตัะฝะฐัะธะฒะฝัะน ัะตัะฒะธั (Google TTS, Azure TTS)

2. **ะะฒัะพะพะฟัะตะดะตะปะตะฝะธะต ัะทัะบะฐ ะดะพะบัะผะตะฝัะฐ**:
   ```typescript
   const detectDocumentLanguage = (text: string): Language => {
     // ะัะฟะพะปัะทัะตะผ ML ะผะพะดะตะปั ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ัะทัะบะฐ
     // ะ ะฟัะตะดะปะฐะณะฐะตะผ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒัะฑัะฐัั ัะทัะบ ะฐะฝะฐะปะธะทะฐ
   }
   ```

3. **ะะฝะพะณะพัะทััะฝัะน ะฐะฝะฐะปะธะท**:
   ```typescript
   // ะะพะทะฒะพะปะธัั ะฐะฝะฐะปะธะทะธัะพะฒะฐัั ะดะพะบัะผะตะฝั ะฝะฐ ะพะดะฝะพะผ ัะทัะบะต
   // ะ ะณะตะฝะตัะธัะพะฒะฐัั ะพัะฒะตั ะฝะฐ ะดััะณะพะผ
   {
     documentLanguage: 'ru',
     analysisLanguage: 'en'
   }
   ```

4. **ะะฐัะฐะปะปะตะปัะฝัะต ะฟะตัะตะฒะพะดั**:
   ```typescript
   // ะะพะบะฐะทัะฒะฐัั ัะตะทัะปััะฐัั ะฝะฐ ะฝะตัะบะพะปัะบะธั ัะทัะบะฐั ะพะดะฝะพะฒัะตะผะตะฝะฝะพ
   {
     results: {
       ru: "ะะะ: ะะะฎะงะะะซะ ะะซะะะะซ: ...",
       kk: "ะะา: ะะะะะะะ าะะะซะขะซะะะซะะะ: ...",
       en: "ICD: KEY FINDINGS: ..."
     }
   }
   ```

## โ Checklist ะดะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ

ะัะธ ะดะพะฑะฐะฒะปะตะฝะธะธ ะฝะพะฒะพะน ััะฝะบัะธะธ ะฟัะพะฒะตัััะต:

- [ ] ะะฝัะตััะตะนั ะฟะตัะตะฒะตะดัะฝ ะฝะฐ ะฒัะต 3 ัะทัะบะฐ (ru/kk/en)
- [ ] API endpoints ะฟะพะดะดะตัะถะธะฒะฐัั ะฟะฐัะฐะผะตัั `language`
- [ ] ะัะพะผะฟัั ัะพะทะดะฐะฝั ะฝะฐ ะฒัะตั ัะทัะบะฐั
- [ ] TTS hook ะฟะพะปััะฐะตั ัะทัะบ ะธะท ะบะพะฝัะตะบััะฐ
- [ ] ะะพะฑะฐะฒะปะตะฝั ะปะพะณะธ ะดะปั ะพัะปะฐะดะบะธ ัะทัะบะฐ
- [ ] ะัะพัะตััะธัะพะฒะฐะฝะพ ะฝะฐ ะฒัะตั ัะทัะบะฐั
- [ ] ะะพะบัะผะตะฝัะฐัะธั ะพะฑะฝะพะฒะปะตะฝะฐ

---

**ะะฐัะฐ ัะพะทะดะฐะฝะธั:** 6 ะพะบััะฑัั 2025  
**ะะตััะธั:** 1.0  
**ะกัะฐััั:** โ ะะพะปะฝะพัััั ัะตะฐะปะธะทะพะฒะฐะฝะพ
