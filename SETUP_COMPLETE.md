# üéØ SKAI - –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –ø–µ—Ä–µ–Ω–æ—Å—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞
–í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏ –ë–î, API –∫–ª—é—á–∏) –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### 2. –°–æ–∑–¥–∞–Ω–æ 7 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

| –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| `.env.local` | ~800 –±–∞–π—Ç | ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–ù–ï –≤ Git) |
| `.env.example` | ~700 –±–∞–π—Ç | ‚úÖ –®–∞–±–ª–æ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ |
| `ENV_CONFIGURATION.md` | ~10 KB | üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö |
| `SECURITY.md` | ~8 KB | üîê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ |
| `ENV_MIGRATION_REPORT.md` | ~12 KB | üìä –û—Ç—á–µ—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏ |
| `test-env-config.mjs` | ~2 KB | üß™ –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `DEPLOYMENT_GUIDE.md` | ~30 KB | üöÄ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é |

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–æ 3 —Ñ–∞–π–ª–∞ –∫–æ–¥–∞

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|-----------|
| `src/lib/alemllm.ts` | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `process.env.ALEMLLM_*` |
| `src/lib/vector-db.ts` | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `process.env.*_DB_*` |
| `README_ALEMLLM.md` | –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é |

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env.local —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω
node test-env-config.mjs
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: ‚úÖ All required variables are set! (15/15)

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ embedding service
python3 embedding-service.py
# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Next.js
npm run dev

# 4. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä
open http://localhost:3000
```

### –î–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone <repo-url>
cd skai

# 2. –°–æ–∑–¥–∞—Ç—å .env.local –∏–∑ —à–∞–±–ª–æ–Ω–∞
cp .env.example .env.local

# 3. –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å:
nano .env.local

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
node test-env-config.mjs

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
pip install fastapi uvicorn torch transformers FlagEmbedding

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å (—Å–º. –≤—ã—à–µ)
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

1. **[ENV_CONFIGURATION.md](./ENV_CONFIGURATION.md)** - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö 15 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. **[SECURITY.md](./SECURITY.md)** - –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —á–µ–∫–ª–∏—Å—Ç—ã
3. **[DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md)** - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Ubuntu/macOS)
4. **[ENV_MIGRATION_REPORT.md](./ENV_MIGRATION_REPORT.md)** - –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ –º–∏–≥—Ä–∞—Ü–∏–∏
5. **[README_ALEMLLM.md](./README_ALEMLLM.md)** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
6. **[QUICKSTART.md](./QUICKSTART.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö—Ä–∞—Ç–∫–∏–µ —Å–ø—Ä–∞–≤–∫–∏

| –ß—Ç–æ –Ω—É–∂–Ω–æ | –î–æ–∫—É–º–µ–Ω—Ç |
|-----------|----------|
| –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env.local | [ENV_CONFIGURATION.md](./ENV_CONFIGURATION.md) |
| –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ | [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) |
| –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | [SECURITY.md](./SECURITY.md) |
| –ë—ã—Å—Ç—Ä–æ –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É | [QUICKSTART.md](./QUICKSTART.md) |
| –ü–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É | [README_ALEMLLM.md](./README_ALEMLLM.md) |

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚ö†Ô∏è –í–ê–ñ–ù–û

**`.env.local` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ –ù–ï –¥–æ–ª–∂–µ–Ω –ø–æ–ø–∞—Å—Ç—å –≤ Git!**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
git status
# .env.local –ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ

# –ï—Å–ª–∏ –æ–Ω —Ç–∞–º –µ—Å—Ç—å:
git reset .env.local
git checkout .env.local
```

### –ó–∞—â–∏—Ç–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod 600 .env.local

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ls -la .env.local
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -rw------- (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å)
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
$ node test-env-config.mjs

üìã Checking environment configuration...

‚úÖ Variables found in .env.local:

üîó AlemLLM API:
  ALEMLLM_API_URL: <YOUR_ALEMLLM_API_URL>
  ALEMLLM_MODEL: astanahub/alemllm

üóÑÔ∏è  VND Database:
  VND_DB_HOST: <YOUR_DB_HOST>
  VND_DB_PORT: 5433
  VND_DB_NAME: vnd
  VND_DB_USER: postgres
  VND_DB_PASSWORD: ‚úì SET (hidden)

üìö NPA Database:
  NPA_DB_HOST: <YOUR_DB_HOST>
  NPA_DB_PORT: 5433
  NPA_DB_NAME: npa
  NPA_DB_USER: postgres
  NPA_DB_PASSWORD: ‚úì SET (hidden)

ü§ñ Embedding Service:
  EMBEDDING_SERVICE_URL: http://localhost:8001

üîê NextAuth:
  NEXTAUTH_SECRET: ‚úì SET (hidden)
  NEXTAUTH_URL: http://localhost:3000

‚öôÔ∏è  Application:
  NODE_ENV: development

üìä Configuration status: 15/15 variables configured
‚úÖ All required variables are set!
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# 1. Embedding service
curl http://localhost:8001/health

# 2. Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
curl http://localhost:3000

# 3. API endpoint (–í–ù–î —á–∞—Ç)
curl -X POST http://localhost:3000/api/vnd \
  -H "Content-Type: application/json" \
  -d '{"query":"–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–æ–≤–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤?"}'
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –ù–∞ development

- [x] `.env.local` —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
- [x] `node test-env-config.mjs` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 15/15 ‚úÖ
- [x] Embedding service –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- [x] Next.js –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] API endpoints –æ—Ç–≤–µ—á–∞—é—Ç
- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ù–∞ production

- [ ] `.env.local` —Å–æ–∑–¥–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã production –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- [ ] `NODE_ENV="production"`
- [ ] `NEXTAUTH_URL` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ production –¥–æ–º–µ–Ω
- [ ] `chmod 600 .env.local` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è `.env.local` —Å–æ–∑–¥–∞–Ω–∞
- [ ] PM2 –∏–ª–∏ systemd –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üéØ –ò—Ç–æ–≥–∏

### –ß—Ç–æ —É–ª—É—á—à–∏–ª–æ—Å—å

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- –ü–∞—Ä–æ–ª–∏ –Ω–µ –≤ –∫–æ–¥–µ
- `.env.local` –∑–∞—â–∏—â–µ–Ω –æ—Ç –∫–æ–º–º–∏—Ç–∞ –≤ Git
- –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**
- –†–∞–∑–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è dev/prod
- –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- 7 –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –®–∞–±–ª–æ–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ß–µ–∫–ª–∏—Å—Ç—ã –¥–ª—è –¥–µ–ø–ª–æ—è

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 7
- **–§–∞–π–ª–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:** 5
- **–°—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** ~3000+
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:** 15
- **–¢–µ—Å—Ç—ã:** 100% –ø—Ä–æ—Ö–æ–¥—è—Ç ‚úÖ

---

## üÜò –ü–æ–º–æ—â—å

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   node test-env-config.mjs
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   ```bash
   # Next.js
   npm run dev
   
   # Embedding service
   tail -f embedding-service.log
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:**
   ```bash
   psql -h $VND_DB_HOST -p $VND_DB_PORT -U $VND_DB_USER -d $VND_DB_NAME -c "SELECT 1"
   ```

4. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - [SECURITY.md](./SECURITY.md) - —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º"
   - [DEPLOYMENT_GUIDE.md](./DEPLOYMENT_GUIDE.md) - —Ä–∞–∑–¥–µ–ª "Troubleshooting"

### –ö–æ–Ω—Ç–∞–∫—Ç—ã

- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –°–º. —Å–ø–∏—Å–æ–∫ –≤—ã—à–µ
- üí¨ Issues: GitHub Issues
- üìß Email: team@skai.kz

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ! üöÄ

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 5 –æ–∫—Ç—è–±—Ä—è 2025
